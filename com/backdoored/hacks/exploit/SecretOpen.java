package com.backdoored.hacks.exploit;

import com.backdoored.hacks.*;
import a.a.g.b.*;
import com.backdoored.gui.*;
import net.minecraftforge.client.event.*;
import net.minecraft.block.*;
import net.minecraft.init.*;
import net.minecraft.tileentity.*;
import net.minecraft.world.*;
import com.backdoored.utils.*;
import net.minecraft.util.math.*;
import net.minecraftforge.fml.common.eventhandler.*;

@b.a(name = "Secret Open", description = "Open a view-only copy of chests or shulkers", category = CategoriesInit.EXPLOIT)
public class SecretOpen extends BaseHack
{
    public SecretOpen() {
        super();
    }
    
    @SubscribeEvent
    public void a(final MouseEvent mouseEvent) {
        if (!this.getEnabled() || mouseEvent.getButton() != 1) {
            return;
        }
        final BlockPos offset = SecretOpen.mc.objectMouseOver.getBlockPos().offset(SecretOpen.mc.objectMouseOver.sideHit);
        for (int i = 219; i <= 234; ++i) {
            if (SecretOpen.mc.world.getBlockState(offset).getBlock().equals(Block.getBlockById(i))) {
                break;
            }
            if (SecretOpen.mc.world.getBlockState(offset).getBlock().equals(Blocks.CHEST)) {
                break;
            }
            if (SecretOpen.mc.world.getBlockState(offset).getBlock().equals(Blocks.ENDER_CHEST)) {
                break;
            }
            if (SecretOpen.mc.world.getBlockState(offset).getBlock().equals(Blocks.TRAPPED_CHEST)) {
                break;
            }
            if (i == 234) {
                return;
            }
        }
        mouseEvent.setCanceled(true);
        final TileEntityShulkerBox tileEntityShulkerBox = new TileEntityShulkerBox();
        tileEntityShulkerBox.setWorld((World)SecretOpen.mc.world);
        tileEntityShulkerBox.readFromNBT(SecretOpen.mc.world.getTileEntity(offset).getTileData().getCompoundTag("BlockEntityTag"));
        Utils.printMessage(SecretOpen.mc.world.getTileEntity(offset).getTileData().getCompoundTag("BlockEntityTag").toString());
    }
}
