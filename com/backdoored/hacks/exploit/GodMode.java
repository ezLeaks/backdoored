package com.backdoored.hacks.exploit;

import com.backdoored.hacks.*;
import a.a.g.b.*;
import com.backdoored.gui.*;
import a.a.g.b.d.*;
import com.backdoored.setting.*;
import a.a.d.d.*;
import net.minecraft.network.play.client.*;
import net.minecraftforge.fml.common.eventhandler.*;
import net.minecraft.client.gui.*;
import net.minecraftforge.client.event.*;

@b.a(name = "God Mode", description = "Make yourself invulnerable", category = CategoriesInit.EXPLOIT)
public class GodMode extends BaseHack
{
    private final Setting<e.a> mode;
    
    public GodMode() {
        super();
        this.mode = new EnumSetting<e.a>("Mode", (BaseHack)this, (Enum)e.a.om);
    }
    
    @SubscribeEvent
    public void a(final c c) {
        if (this.getEnabled()) {
            if (this.mode.getValInt() == e.a.om && c.packet instanceof CPacketConfirmTeleport) {
                c.setCanceled(true);
            }
            if (this.mode.getValInt() == e.a.oo && c.packet instanceof CPacketPlayer) {
                c.setCanceled(true);
            }
        }
    }
    
    public void onDisabled() {
        if (this.mode.getValInt() == e.a.on) {
            GodMode.mc.player.respawnPlayer();
        }
    }
    
    public void onTick() {
        if (this.getEnabled() && this.mode.getValInt() == e.a.on) {
            GodMode.mc.player.setHealth(20.0f);
            GodMode.mc.player.getFoodStats().setFoodLevel(20);
            GodMode.mc.player.isDead = false;
            if (GodMode.mc.currentScreen instanceof GuiGameOver) {
                GodMode.mc.displayGuiScreen((GuiScreen)null);
            }
        }
    }
    
    @SubscribeEvent
    public void a(final GuiOpenEvent guiOpenEvent) {
        if (this.getEnabled() && guiOpenEvent.getGui() instanceof GuiGameOver && this.mode.getValInt() == e.a.on) {
            guiOpenEvent.setCanceled(true);
        }
    }
}
